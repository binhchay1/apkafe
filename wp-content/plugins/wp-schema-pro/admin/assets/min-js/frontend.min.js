!function(e){const s={container:"",init(){const a=this;jQuery(document).on("click",".aiosrs-rating-wrap .aiosrs-star-rating",function(s){s.preventDefault(),a.star_rating(this)}),jQuery(document).on("mouseover",".aiosrs-rating-wrap .aiosrs-star-rating",function(s){s.preventDefault(),a.hover_star_rating(this)}),jQuery(document).on("mouseout",".aiosrs-rating-wrap .aiosrs-star-rating-wrap",function(s){s.preventDefault(),e(this).hasClass("disabled")||(s=e(this).parent().find(".aiosrs-rating").text(),a.update_stars(e(this),s))})},hover_star_rating(s){var a=e(s).closest(".aiosrs-star-rating-wrap"),s=e(s).data("index");a.hasClass("disabled")||this.update_stars(a,s)},update_stars(s,a){let t=5<a?5:parseInt(a);const r=a===(t=5<a?5:a<0?0:parseInt(a))||5<a||a<0?0:1;s.find("span").each(function(s){e(this).removeClass("dashicons-star-filled dashicons-star-half dashicons-star-empty"),s<t?e(this).addClass("dashicons-star-filled"):(s===t&&r,e(this).addClass("dashicons-star-empty"))})},star_rating(s){const n=this,a=e(s).closest(".aiosrs-rating-wrap").data("schema-id"),i=e(s).closest(".aiosrs-star-rating-wrap"),t=e(s).data("index");i.hasClass("disabled")||(n.update_stars(i,t),i.addClass("disabled"),e.ajax({url:AIOSRS_Frontend.ajaxurl,type:"POST",data:{action:"aiosrs_user_rating",rating:t,schemaId:a,post_id:AIOSRS_Frontend.post_id,nonce:AIOSRS_Frontend.user_rating_nonce}}).success(function(s){var a,t,r;!0===s.success&&(a=i.next(".aiosrs-rating-summary-wrap"),t=s.rating,r=s["rating-avg"],s=s["review-count"],a.find(".aiosrs-rating").text(r),a.find(".aiosrs-rating-count").text(s),0===i.next(".success-msg").length&&i.after('<span class="success-msg">'+AIOSRS_Frontend.success_msg+"</span>"),setTimeout(function(){i.parent().find(".success-msg").remove(),i.removeClass("disabled")},5e3),n.update_stars(i,t))}))}};e(function(){s.init()})}(jQuery);